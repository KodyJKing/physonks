parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"fMZD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modulus=exports.remap=exports.lerp=exports.threshold=exports.clamp=exports.contains2D=exports.contains=exports.randomFloor=exports.equals=void 0;var r=1e-5;function t(t,o){return Math.abs(t-o)<r}function o(r){return Math.floor(Math.random()*r)}function e(r,t,o){return o>=r&&o<=t}function n(r,t,o,n){return e(r.x,r.x+t,n.x)&&e(r.y,r.y+o,n.y)}function s(r,t,o){return o<r?r:o>t?t:o}function u(r,t){return Math.abs(r)<t?0:r}function p(r,t,o){return(t-r)*o+r}function x(r,t,o,e,n){return p(o,e,(n-r)/(t-r))}function a(r,t){return(r%t+t)%t}exports.equals=t,exports.randomFloor=o,exports.contains=e,exports.contains2D=n,exports.clamp=s,exports.threshold=u,exports.lerp=p,exports.remap=x,exports.modulus=a;
},{}],"BIAZ":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./math/math"),n=function(){function r(){e(this,r),this.lastFrame=performance.now(),this.averageFPS=0}return t(r,[{key:"nextFrame",value:function(){var e=performance.now(),r=e-this.lastFrame;if(this.lastFrame=e,0!=r){var t=1e3/r;this.averageFPS=a.lerp(this.averageFPS,t,.04)}return r}}]),r}();exports.default=n;
},{"./math/math":"fMZD"}],"dJxS":[function(require,module,exports) {
"use strict";function n(n,e){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=t(n))||e&&n&&"number"==typeof n.length){r&&(n=r);var i=0,a=function(){};return{s:a,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,m=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return u=n.done,n},e:function(n){m=!0,o=n},f:function(){try{u||null==r.return||r.return()}finally{if(m)throw o}}}}function t(n,t){if(n){if("string"==typeof n)return e(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(n,t):void 0}}function e(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function a(n,t,e){return t&&i(n.prototype,t),e&&i(n,e),n}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(n,e,i,a){r(this,t),this.minx=n,this.miny=e,this.maxx=i,this.maxy=a}return a(t,[{key:"width",value:function(){return this.maxx-this.minx}},{key:"height",value:function(){return this.maxy-this.miny}},{key:"hull",value:function(n,e){function r(n,t){return Math.min(n,t)}function i(n,t){return Math.max(n,t)}return new t(r(n.minx,e.minx),r(n.miny,e.miny),i(n.maxx,e.maxx),i(n.maxy,e.maxy))}},{key:"overlaps",value:function(n){var t=this,e=n;return t.minx<=e.maxx&&t.maxx>=e.minx&&t.miny<=e.maxy&&t.maxy>=e.miny}},{key:"addPoint",value:function(n){this.minx=Math.min(this.minx,n.x),this.miny=Math.min(this.miny,n.y),this.maxx=Math.max(this.maxx,n.x),this.maxy=Math.max(this.maxy,n.y)}},{key:"addAABB",value:function(n){var t=this,e=n;t.minx=Math.min(t.minx,e.minx),t.miny=Math.min(t.miny,e.miny),t.maxx=Math.max(t.maxx,e.maxx),t.maxy=Math.max(t.maxy,e.maxy)}},{key:"contains",value:function(n){var t=this.minx,e=this.miny,r=this.maxx,i=this.maxy;return n.x>=t&&n.x<=r&&n.y>=e&&n.y<=i}}],[{key:"fromDimensions",value:function(n,e){return new t(n.x,n.y,n.x+e.x,n.y+e.y)}},{key:"empty",value:function(){return new t(1/0,1/0,-1/0,-1/0)}},{key:"polygonBounds",value:function(e){var r,i=t.empty(),a=n(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.addPoint(o)}}catch(u){a.e(u)}finally{a.f()}return i}}]),t}();exports.default=o;
},{}],"KUnX":[function(require,module,exports) {
"use strict";function t(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=e(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){l=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw i}}}}function e(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var u=i(require("../math/AABB")),l=require("../math/math"),f=function(){function e(){n(this,e)}return o(e,null,[{key:"findPairs",value:function(e,r,n){var a,o=u.default.empty(),i=t(e);try{for(i.s();!(a=i.n()).done;){var f=a.value;o.addAABB(f.getBounds())}}catch(G){i.e(G)}finally{i.f()}var c,s=o.width(),d=o.height(),h=Math.ceil(s/r),v=Math.ceil(d/r),y=function(t){return l.clamp(0,h-1,Math.floor(l.remap(o.minx,o.maxx,0,h-1,t)))},m=function(t){return l.clamp(0,v-1,Math.floor(l.remap(o.miny,o.maxy,0,v-1,t)))},p=new Map,g=t(e);try{for(g.s();!(c=g.n()).done;)for(var b=c.value,x=b.getBounds(),w=y(x.minx),A=y(x.maxx),M=m(x.miny),B=m(x.maxy),S=w;S<=A;S++)for(var _=M;_<=B;_++){var j,O=S*v+_;p.has(O)||p.set(O,[]),null===(j=p.get(O))||void 0===j||j.push(b)}}catch(G){g.e(G)}finally{g.f()}var I,P=new Set,k=t(p.values());try{for(k.s();!(I=k.n()).done;)for(var q=I.value,C=0;C<q.length;C++)for(var E=q[C],T=E.getBounds(),D=C+1;D<q.length;D++){var U=q[D],$=U.getBounds();if(T.overlaps($)){var z=Math.min(E.id,U.id),F=Math.max(E.id,U.id)<<16|z;P.has(F)||(P.add(F),n(E,U))}}}catch(G){k.e(G)}finally{k.f()}}}]),e}();exports.default=f;
},{"../math/AABB":"dJxS","../math/math":"fMZD"}],"BaiC":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./math"),u=function(){function e(n,i){t(this,e),this.x=n,this.y=i}return n(e,[{key:"length",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"lengthSquared",value:function(){return this.x*this.x+this.y*this.y}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"equivalent",value:function(t){return i.equals(this.x,t.x)&&i.equals(this.y,t.y)}},{key:"unit",value:function(){return this.scale(1/Math.max(this.length(),1e-10))}},{key:"leftNormal",value:function(){return new e(-this.y,this.x)}},{key:"rightNormal",value:function(){return new e(this.y,-this.x)}},{key:"negate",value:function(){return new e(-this.x,-this.y)}},{key:"half",value:function(){return new e(.5*this.x,.5*this.y)}},{key:"copy",value:function(){return new e(this.x,this.y)}},{key:"floor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new e(Math.floor(this.x/t)*t,Math.floor(this.y/t)*t)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"addXY",value:function(t,n){return new e(this.x+t,this.y+n)}},{key:"addX",value:function(t){return new e(this.x+t,this.y)}},{key:"addY",value:function(t){return new e(this.x,this.y+t)}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"crossZLeft",value:function(t){return new e(-this.y*t,this.x*t)}},{key:"crossZRight",value:function(t){return new e(this.y*t,-this.x*t)}},{key:"scale",value:function(t){return new e(this.x*t,this.y*t)}},{key:"stretch",value:function(t,n){return new e(this.x*t,this.y*n)}},{key:"divide",value:function(t){return new e(this.x/t,this.y/t)}},{key:"lerp",value:function(t,e){return this.scale(1-e).add(t.scale(e))}},{key:"clampAlongAxis",value:function(t,e,n){var u=this.dot(t),r=i.clamp(e,n,u)-u;return this.add(t.scale(r))}},{key:"distance",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}},{key:"distanceSq",value:function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)}},{key:"rotated",value:function(t){return this.complexProduct(e.polar(t,1))}},{key:"isRightOf",value:function(t){return this.cross(t)>0}},{key:"normalOnSide",value:function(t){return t.isRightOf(this)?this.rightNormal():this.leftNormal()}},{key:"complexProduct",value:function(t){return new e(this.x*t.x-this.y*t.y,this.x*t.y+this.y*t.x)}},{key:"complexQuotient",value:function(t){var n=t.lengthSquared();return new e((this.x*t.x+this.y*t.y)/n,(this.y*t.x-this.x*t.y)/n)}},{key:"complexExponential",value:function(){var t=Math.exp(this.x);return new e(t*Math.cos(this.y),t*Math.sin(this.y))}},{key:"projection",value:function(t){return t.scale(t.dot(this)/t.lengthSquared())}},{key:"projectToLine",value:function(t,e){var n=this.dot(t)-e;return this.subtract(t.scale(n))}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"hot_add",value:function(t,e){return e.set(this.x+t.x,this.y+t.y)}},{key:"hot_subtract",value:function(t,e){return e.set(this.x-t.x,this.y-t.y)}},{key:"hot_crossZLeft",value:function(t,e){return e.set(-this.y*t,this.x*t)}},{key:"hot_crossZRight",value:function(t,e){return e.set(this.y*t,-this.x*t)}},{key:"hot_scale",value:function(t,e){return e.set(this.x*t,this.y*t)}},{key:"hot_leftNormal",value:function(t){return t.set(-this.y,this.x)}},{key:"hot_rightNormal",value:function(t){return t.set(this.y,-this.x)}},{key:"hot_unit",value:function(t){var e=1/this.length();return t.set(this.x*e,this.y*e)}}],[{key:"polar",value:function(t,n){return new e(Math.cos(t)*n,Math.sin(t)*n)}}]),e}();exports.default=u,u.zero=new u(0,0),u.one=new u(1,1),u.right=new u(1,0),u.down=new u(0,1);
},{"./math":"fMZD"}],"gxTK":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.initCanvas=exports.boxPolygon=exports.polygon=exports.sampleSupport=exports.notQuiteInfiniteMass=void 0;var e=t(require("./math/Vector"));function n(t,n){for(var o=[],r=0;r<t;r++){var a=2*Math.PI*r/t;o.push(n(e.default.polar(a,1)))}return o}function o(t,n){for(var o=[],r=0;r<t;r++)o.push(new e.default(Math.cos(2*Math.PI/t*r)*n,Math.sin(2*Math.PI/t*r)*n));return o}function r(t,n){var o=t/2,r=n/2;return[new e.default(-o,-r),new e.default(o,-r),new e.default(o,r),new e.default(-o,r)]}function a(){var t=document.getElementById("mainCanvas");function e(){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}return e(),window.addEventListener("resize",function(t){return e()}),t}exports.notQuiteInfiniteMass=1e32,exports.sampleSupport=n,exports.polygon=o,exports.boxPolygon=r,exports.initCanvas=a;
},{"./math/Vector":"BaiC"}],"et32":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=o(require("./math/Vector")),s=function(){function t(){e(this,t),this.keys=new Map,this.mouse=new Map,this.cursor=new r.default(0,0),this.watchCursor(),this.watchMouse(),this.watchKeys()}return n(t,[{key:"watchKeys",value:function(){var e=this;console.log("starting key watch"),window.addEventListener("keydown",function(t){return e.keys.set(t.key.toLowerCase(),!0)}),window.addEventListener("keyup",function(t){return e.keys.set(t.key.toLowerCase(),!1)})}},{key:"watchMouse",value:function(){var e=this;console.log("starting mouse watch"),window.addEventListener("mousedown",function(t){return e.mouse.set(t.button,!0)}),window.addEventListener("mouseup",function(t){return e.mouse.set(t.button,!1)})}},{key:"watchCursor",value:function(){var e=this;console.log("starting cursor watch"),window.addEventListener("mousemove",function(t){return e.cursor=new r.default(t.x,t.y)})}}]),t}();exports.default=s;
},{"./math/Vector":"BaiC"}],"CtoF":[function(require,module,exports) {
"use strict";function t(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=e(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(u)throw a}}}}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var s=a(require("../Clock")),u=a(require("../collision/Broadphase")),l=require("../common"),d=a(require("../Input")),f=a(require("../math/AABB")),c=a(require("../math/Vector")),h=function(){function t(e){var n,r,o,a;i(this,t),this.isStatic=!1,this.pos=e.pos,this.radius=e.radius,this.vel=null!==(n=e.vel)&&void 0!==n?n:new c.default(0,0),this.isStatic=null!==(r=e.isStatic)&&void 0!==r&&r,this.mass=this.isStatic?1e32:null!==(o=e.mass)&&void 0!==o?o:Math.pow(this.radius,2),this.color=null!==(a=e.color)&&void 0!==a?a:"red",this.id=t.idCounter++}return o(t,[{key:"getBounds",value:function(){return new f.default(this.pos.x-this.radius,this.pos.y-this.radius,this.pos.x+this.radius,this.pos.y+this.radius)}}]),t}();h.idCounter=0;for(var v=l.initCanvas(),p=v.getContext("2d"),y=new d.default,m=new s.default,w=[],b=.25,g=7,x=7,S=.8,M=1e3,A=1/120,I=1,C=60,B=20,q=["#264653","#2A9D8F","#E9C46A","#F4A261","#E76F51"],F="#d1ccb6",P=0;P<1500;P++){var _=new c.default(Math.random()*v.width,Math.random()*v.height),j=new c.default(1e3*(Math.random()-.5),1e3*(Math.random()-.5)),E=.5*(10*Math.random()+20),O=q[Math.random()*q.length|0],Q=new h({pos:_,radius:E,vel:j,color:O});w.push(Q)}function T(){m.nextFrame(),k();for(var t=0;t<I;t++)D();window.setTimeout(T,A*I)}function k(){p.fillStyle="#ebe6d1",p.fillRect(0,0,v.width,v.height);for(var t=0,e=w;t<e.length;t++){var n=e[t],i=n.pos,r=i.x,o=i.y;p.beginPath(),p.arc(r,o,n.radius,0,2*Math.PI),p.fillStyle=n.color,p.fill()}p.fillStyle="red",p.font="24px Impact",p.fillText(m.averageFPS.toFixed(2),2,22)}function D(){for(var t=0,e=w;t<e.length;t++){var n=e[t];if((!n.isStatic&&n.pos.x>v.width+C||n.pos.x<-C)&&(n.vel.x=100*(Math.random()-.5),n.vel.y=100*(Math.random()-.25),n.pos.x=v.width/2+500*(Math.random()-.5),n.pos.y=-20),!n.isStatic){var i=n.pos,r=n.vel;if(y.mouse.get(2)||(r.y+=A*M),y.mouse.get(0)){var o=y.cursor.subtract(i),a=Math.max(o.length(),50);o=o.scale(-5e7/Math.pow(a,3)),r.x+=A*o.x,r.y+=A*o.y}i.x+=r.x*A,i.y+=r.y*A}}for(var s=V(),u=0;u<x;u++)U(s);for(var l=0;l<g;l++)R(s)}function R(e){var n,i=t(e);try{for(i.s();!(n=i.n()).done;){var r,o,a=n.value,s=a.bodyA,u=a.bodyB,d=a.normal,f=(0,a.penetration)();if(!(f<0)){var c=null!==(r=null==s?void 0:s.mass)&&void 0!==r?r:l.notQuiteInfiniteMass,h=null!==(o=null==u?void 0:u.mass)&&void 0!==o?o:l.notQuiteInfiniteMass,v=f*b,p=v/(1+h/c),y=v-p;s&&!s.isStatic&&(s.pos.x-=d.x*y,s.pos.y-=d.y*y),u&&!u.isStatic&&(u.pos.x+=d.x*p,u.pos.y+=d.y*p)}}}catch(m){i.e(m)}finally{i.f()}}function U(e){var n,i=t(e);try{for(i.s();!(n=i.n()).done;){var r,o,a,s,u=n.value,d=u.bodyA,f=u.bodyB,h=u.normal;if(!((0,u.penetration)()<0)){var v=null!==(r=null==d?void 0:d.mass)&&void 0!==r?r:l.notQuiteInfiniteMass,p=null!==(o=null==f?void 0:f.mass)&&void 0!==o?o:l.notQuiteInfiniteMass,y=null!==(a=d.vel)&&void 0!==a?a:new c.default(0,0),m=null!==(s=null==f?void 0:f.vel)&&void 0!==s?s:new c.default(0,0),w=1/(1/v+1/p),b=m.subtract(y).dot(h)*(1+S)*w;b>0||(d&&!d.isStatic&&(d.vel.x+=h.x*b/v,d.vel.y+=h.y*b/v),f&&!f.isStatic&&(f.vel.x-=h.x*b/p,f.vel.y-=h.y*b/p))}}}catch(g){i.e(g)}finally{i.f()}}function V(){for(var e=[{normal:new c.default(0,1),distance:v.height}],n=[],i=function(i){var r,o=w[i],a=t(e);try{var s=function(){var t=r.value,e=function(){return o.pos.dot(t.normal)-t.distance+o.radius};if(e()<0)return"continue";n.push({bodyA:o,normal:t.normal,penetration:e})};for(a.s();!(r=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}},r=0;r<w.length;r++)i(r);return u.default.findPairs(w,B,function(t,e){var i=function(){return t.radius+e.radius-t.pos.distance(e.pos)};if(!(i()<0)){var r=e.pos.subtract(t.pos).unit();n.push({bodyA:t,bodyB:e,normal:r,penetration:i})}}),n}w.push(new h({pos:new c.default(v.width/2,v.height/4),radius:100,color:F,isStatic:!0})),w.push(new h({pos:new c.default(v.width/2+200,v.height/2),radius:100,color:F,isStatic:!0})),w.push(new h({pos:new c.default(v.width/2-200,v.height/2),radius:100,color:F,isStatic:!0})),w.push(new h({pos:new c.default(v.width,v.height),radius:100,color:F,isStatic:!0})),w.push(new h({pos:new c.default(0,v.height),radius:100,color:F,isStatic:!0})),T();
},{"../Clock":"BIAZ","../collision/Broadphase":"KUnX","../common":"gxTK","../Input":"et32","../math/AABB":"dJxS","../math/Vector":"BaiC"}]},{},["CtoF"], null)
//# sourceMappingURL=fountain.45b257b0.js.map